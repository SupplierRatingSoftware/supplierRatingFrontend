<div class="container-fluid h-100 p-0">
  <div class="row g-0 h-100">
    <div
      [class]="selectedSupplier() ? 'col-md-4 border-end' : 'col-12'"
      class="d-flex flex-column p-2 h-100 position-relative bg-light transition-all">
      <app-toast [message]="errorMessage()" (exitToast)="closeToast()"></app-toast>
      <app-list-search class="mb-3"></app-list-search>

      <ul class="list-unstyled overflow-auto flex-grow-1">
        @for (item of suppliers(); track item.id) {
          <app-list-item
            [label]="item.name"
            [icon]="User"
            (itemSelected)="selectSupplier(item)"
            (editSelected)="openEditSupplierModal(item)"
            [class.bg-primary-subtle]="selectedSupplier()?.id === item.id">
          </app-list-item>
        }
      </ul>
      <app-add-btn (action)="openSupplierModal()"></app-add-btn>
    </div>

    @if (selectedSupplier(); as s) {
      <div class="col-md-8 h-100 overflow-auto bg-body shadow-sm border-start">
        <div class="p-4">
          <div class="d-flex justify-content-end align-items-center mb-4 border-bottom pb-2">
            <button type="button" class="btn-close" aria-label="Schließen" (click)="closeDetail()"></button>
          </div>

          <div class="mb-5">
            <h5 class="text-muted mb-3 border-bottom pb-1">1. Name und Kundennummer</h5>
            <div class="row">
              <div class="col-md-8">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext fw-bold"
                    id="detailName"
                    [value]="s.name"
                    placeholder="Name" />
                  <label for="detailName">NAME</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext fw-bold"
                    id="detailCustNum"
                    [value]="s.customerNumber || '-'"
                    placeholder="Kundennummer" />
                  <label for="detailCustNum">KUNDENNUMMER</label>
                </div>
              </div>
            </div>
          </div>

          <div class="mb-5">
            <h5 class="text-muted mb-3 border-bottom pb-1">2. Anschrift</h5>
            <div class="row">
              <div class="col-md-8">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailStreet"
                    [value]="s.street || '-'"
                    placeholder="Strasse" />
                  <label for="detailStreet">STRASSE + HAUSNUMMER</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailPoBox"
                    [value]="s.poBox || '-'"
                    placeholder="Postfach" />
                  <label for="detailPoBox">POSTFACH</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailZip"
                    [value]="s.zipCode || '-'"
                    placeholder="PLZ" />
                  <label for="detailZip">PLZ</label>
                </div>
              </div>
              <div class="col-md-5">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailCity"
                    [value]="s.city || '-'"
                    placeholder="Ort" />
                  <label for="detailCity">ORT</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailCountry"
                    [value]="s.country || '-'"
                    placeholder="Land" />
                  <label for="detailCountry">LAND</label>
                </div>
              </div>
            </div>
          </div>

          <div class="mb-5">
            <h5 class="text-muted mb-3 border-bottom pb-1">3. Kontakt & Web</h5>
            <div class="row">
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input
                    type="email"
                    readonly
                    class="form-control-plaintext text-primary"
                    id="detailEmail"
                    [value]="s.email || '-'"
                    placeholder="Email" />
                  <label for="detailEmail">EMAIL</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input
                    type="tel"
                    readonly
                    class="form-control-plaintext"
                    id="detailPhone"
                    [value]="s.phoneNumber || '-'"
                    placeholder="Telefon" />
                  <label for="detailPhone">TELEFONNUMMER</label>
                </div>
              </div>
            </div>
            <div class="form-floating mb-3">
              <input
                type="url"
                readonly
                class="form-control-plaintext text-primary"
                id="detailWeb"
                [value]="s.website || '-'"
                placeholder="Webseite" />
              <label for="detailWeb">WEBLINK / WEBSEITE</label>
            </div>
          </div>

          <div class="mb-5">
            <h5 class="text-muted mb-3 border-bottom pb-1">4. Kundeninformation</h5>
            <div class="row">
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailVat"
                    [value]="s.vatId || '-'"
                    placeholder="MWST" />
                  <label for="detailVat">MWST / UST / TVA</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    id="detailCond"
                    [value]="s.conditions || '-'"
                    placeholder="Konditionen" />
                  <label for="detailCond">KONDITIONEN</label>
                </div>
              </div>
            </div>
            <div class="form-floating mb-3">
              <textarea
                readonly
                class="form-control-plaintext"
                id="detailNotes"
                style="height: 100px"
                placeholder="Bemerkungen"
                >{{ s.customerInfo || '-' }}</textarea
              >
              <label for="detailNotes">ZUSATZ (BEMERKUNGEN)</label>
            </div>
          </div>
        </div>
      </div>
    } @else {
      <div class="col-md-8 h-100 d-flex flex-column align-items-center justify-content-center text-muted">
        <i-lucide [img]="User" [size]="48" class="mb-3 opacity-25"></i-lucide>
        <p>Wählen Sie einen Lieferanten aus.</p>
      </div>
    }
  </div>
</div>
